webpackJsonp([12],{Q8tH:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page refund-detail-page"},[t.data?[s("x-media-object",{staticClass:"mgb",staticStyle:{"margin-top":"0.12rem"},attrs:{icon:t.showData.icon,size:"0.69rem",pull:"0.12rem",padding:""}},[s("div",[t._v(t._s(t.showData.status))]),t._v(" "),s("div",{staticClass:"fs-sm",attrs:{slot:"secondary"},slot:"secondary"},[t._v(t._s(t.showData.status))]),t._v(" "),s("div",{staticClass:"fs-sm",attrs:{slot:"secondary"},slot:"secondary"},[t._v(t._s(t.showData.desc))])]),t._v(" "),s("div",{staticClass:"mgb"},[s("x-field-set",{staticClass:"bdb"},[s("x-field-item",{attrs:{label:"售后类型"}},[t._v(t._s(t._f("refundType")(t.data.type)))]),t._v(" "),s("x-field-item",{attrs:{label:"退款金额"}},[s("x-money",{attrs:{value:t.data.required_amount,size:"small"}})],1),t._v(" "),s("x-field-item",{attrs:{label:"退款原因"}},[t._v(t._s(t.data.reason))]),t._v(" "),s("x-field-item",{attrs:{label:"备注原因"}},[t._v(t._s(t.data.desc))]),t._v(" "),s("x-field-item",{attrs:{label:"售后编号"}},[t._v(t._s(t.data.sn))]),t._v(" "),s("x-field-item",{attrs:{label:"申请时间"}},[t._v(t._s(t._f("fullTime")(1e3*t.data.created_at)))])],1),t._v(" "),t.data.images.length?s("x-cell",[s("p",{staticClass:"fs-me mgb"},[t._v("凭证附件")]),t._v(" "),s("ul",{staticClass:"picrow"},t._l(t.data.images,function(e){return s("li",{on:{click:function(e){t.seeImgs(t.item.path,t.data.images)}}},[s("img",{attrs:{src:t.item.path,alt:"comemnt"}})])}))]):t._e()],1),t._v(" "),2===t.data.status?s("x-field",{staticClass:"refund-detail-field",attrs:{label:"退货物流单",placeholder:"请输入退货物流单号"},model:{value:t.expressNo,callback:function(e){t.expressNo=e},expression:"expressNo"}}):t._e(),t._v(" "),2===t.data.status?s("x-fixed-bottom",[s("x-button",{attrs:{type:"primary",size:"full"},nativeOn:{click:function(e){t.submit(e)}}},[t._v("提交")])],1):t._e()]:t._e()],2)},staticRenderFns:[]},i=s("/Xao")({data:function(){return{goodsId:this.$route.params.id,data:null,expressNo:""}},computed:{showData:function(){var t=this.data;switch(t.status){case 0:case 2:case 5:return{status:"处理中",desc:"申请退款金额：￥"+this.$utils.toFixedPrice(t.required_amount),icon:"processing"};case 3:case 4:return{status:"退款关闭",desc:3===t.status?"驳回原因："+t.reject_reason:"用户自主取消",icon:"closed"};case 1:return{status:"退款成功",desc:"退款时间："+this.$utils.timeFormat(1e3*t.success_time),icon:"pay_success"};default:return{}}}},mounted:function(){this.fetchRefundData()},methods:{fetchRefundData:function(){var t=this,e={order_goods_id:this.goodsId};this.$http.withLoading({url:"/api/order/refund/show",params:e}).then(function(e){t.data=e.data})},submit:function(){var t=this;if(!this.expressNo)return this.$toast("请填写物流单号");this.$messagebox.confirm("确认提交吗").then(function(e){"cancel"!==e&&t.$http.withLoading({url:"/api/order/refunds/"+t.data.id,data:{express_no:t.expressNo}}).then(function(e){t.$toast("提交成功"),t.fetchRefundData()})})}},filters:{refundType:function(t){return{1:"仅退款",2:"退货退款"}[t]||"--"}}},a,!1,function(t){s("eUMa")},null,null);e.default=i.exports},eUMa:function(t,e,s){var a=s("uNSR");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("8bSs")("f8aa519e",a,!0)},uNSR:function(t,e,s){(t.exports=s("BkJT")(!0)).push([t.i,"\n.refund-detail-field .x-field-label {\n  color: #333;\n}\n","",{version:3,sources:["E:/dev/wemall/src/views/order/refund-detail.vue"],names:[],mappings:";AACA;EACE,YAAY;CACb",file:"refund-detail.vue",sourcesContent:["\n.refund-detail-field .x-field-label {\n  color: #333;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=12.d4f1943ddde63ac4e53a.js.map