{"version":3,"sources":["webpack:///./src/views/product/detail.vue?3e5e","webpack:///src/views/product/detail.vue","webpack:///./src/views/product/detail.vue?5b17","webpack:///./src/views/product/detail.vue","webpack:///./src/views/product/detail.vue?c56c"],"names":["content","__webpack_require__","module","i","locals","exports","detail","id","selectedSku","pageInit","_this","this","data","images","message","_this2","_this3","k","total","_this4","count","_this5","shopcart_count","_this6","goods_cat_id_third","goodsInfo","goods_cat_id_second","goods_cat_id_first","cat","list","path","defautImg","property","skus","name","goods_title","sku_id","skuId","_this7","_this8","num","then","res","goods_id","amount","evt","product_detail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","indicator","length","swipeImgs","_l","url","key","nativeOn","click","$event","seeImg","src","alt","_v","is_collect","type","likeGoods","_e","shareGoods","_s","value","sale_price","size","icon-right","bordered","showProdCombo","staticStyle","margin-right","showSku","selectedSkuText","comments","commentsTotal","good-percent","commentsGoodPercent","goods-id","items","recommends","desc","class","has-goods","cartCount","on","gotoCart","addCart","buyNow","visible","skuVisible","skuValue","sku-model","skuModel","visible-change","skuVisibleChange","input","skuValueChange","cart","buy","comboVisible","options","combos","selectedCombo","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","push","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/17.267f83b1f42048564223.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-010a5e1e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=styles&index=0!./detail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.3@vue-style-loader/lib/addStylesClient.js\")(\"721acda0\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.0.3@vue-style-loader!./node_modules/_css-loader@0.28.7@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-010a5e1e\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/product/detail.vue\n// module id = K8v2\n// module chunks = 17","<template>\n  <div class=\"page-product-detail\">\n    <!--轮播图-->\n    <div class=\"top-slider-wrap bdb\">\n      <x-slider class=\"bdb\" indicator=\"number\" :length=\"swipeImgs.length\">\n        <x-slider-item v-for=\"url in swipeImgs\" @click.native=\"seeImg(url, swipeImgs)\" :key=\"url\">\n          <img :src=\"url\" alt=\"\">\n        </x-slider-item>\n      </x-slider>\n      <x-icon v-if=\"goodsInfo.is_collect === 0\" class=\"product-like-icon\" @click.native=\"likeGoods\" type=\"praise\"></x-icon>\n      <x-icon class=\"product-share-icon\" @click.native=\"shareGoods\" type=\"share\"></x-icon>\n    </div>\n\n    <!--商品标题-->\n    <div class=\"mod_pd mgb prod-info\">\n      <p class=\"title black-2 fs-lg\">{{ goodsInfo.goods_title }}</p>\n      <x-money v-if=\"selectedSku.sale_price\" class=\"price\" :value=\"selectedSku.sale_price\" size=\"large\"></x-money>\n      <!--<x-money v-else class=\"price\" :value=\"399\" size=\"large\"></x-money>-->\n    </div>\n\n    <!--优惠套装 / sku规格-->\n    <div class=\"mgb\">\n      <x-cell icon-right=\"more\" @click.native=\"showProdCombo\" bordered>\n        <span class=\"black-3\" style=\"margin-right: 1.2em;\">促销</span>\n        <span class=\"red\">优惠套装</span>\n        <span>| 最高省200.00元</span>\n      </x-cell>\n      <x-cell v-if=\"goodsInfo.is_sku\" icon-right=\"more\" @click.native=\"showSku\">\n        <span class=\"black-3\">已选规格：</span>\n        <span>{{ selectedSkuText }}</span>\n      </x-cell>\n    </div>\n\n    <!--商品评论-->\n    <comment-short-list\n      v-if=\"comments.length\"\n      :comments=\"comments\"\n      :total=\"commentsTotal\"\n      :good-percent=\"commentsGoodPercent\"\n      :goods-id=\"id\"\n    ></comment-short-list>\n\n    <!--同类推荐-->\n    <!--<prod-recommend :items=\"recommends.concat(recommends).concat(recommends).concat(recommends)\"></prod-recommend>-->\n    <prod-recommend :items=\"recommends\"></prod-recommend>\n    <!--图文详情-->\n    <long-detail :content=\"goodsInfo.desc\"></long-detail>\n\n    <!--底部按钮-->\n    <x-fixed-bottom class=\"product-detail-bottom\">\n      <div class=\"gocart-button\" :class=\"{'has-goods': cartCount > 0}\" @click=\"gotoCart\">\n        <div class=\"gocart-button-inner\">\n          <x-icon type=\"cart\"></x-icon>\n          <br>\n          <span>购物车</span>\n          <i class=\"gocart-button-redpoint\"></i>\n        </div>\n      </div>\n      <x-button type=\"primary\" @click.native=\"addCart\">加入购物车</x-button>\n      <x-button type=\"danger\" @click.native=\"buyNow\">立即购买</x-button>\n    </x-fixed-bottom>\n\n    <!--sku组件-->\n    <prod-sku\n      :visible=\"skuVisible\"\n      @visible-change=\"skuVisibleChange\"\n      :value=\"skuValue\"\n      @input=\"skuValueChange\"\n      :sku-model=\"skuModel\"\n      @cart=\"addCart\"\n      @buy=\"buyNow\">\n    </prod-sku>\n    <!--优惠套装弹层-->\n    <prod-combo\n      :visible=\"comboVisible\"\n      @visible-change=\"comboVisible = $event\"\n      :options=\"combos\"\n      :value=\"selectedCombo\"\n      @input=\"selectedCombo = $event\">\n    </prod-combo>\n  </div>\n</template>\n<script>\n  export default {\n    data: function () {\n      return {\n        id: this.$route.params.id,\n        swipeImgs: [], // 轮播图\n\n        goodsInfo: {},\n\n        skuVisible: false,\n        skuModel: null,\n        skuValue: null,\n        comboVisible: false,\n        combos: [],\n        selectedCombo: 'xxx-1',\n        comments: [],\n        commentsTotal: 10,\n        commentsGoodPercent: '',\n        cartCount: 0,\n        recommends: [],\n        likePending: false\n      }\n    },\n    computed: {\n      selectedSku () {\n        if (!this.goodsInfo.id) return {}\n        if (this.goodsInfo.is_sku) {\n          return this.$utils.skuTool.getSelectedSku(this.skuValue, this.skuModel) || {}\n        } else {\n          return this.goodsInfo.skus[0] || {}\n        }\n      },\n      selectedSkuText () {\n        return this.$utils.skuTool.getSkuText(this.selectedSku)\n      }\n    },\n    mounted: function () {\n      this.pageInit()\n    },\n    methods: {\n      pageInit () {\n        this.fetchDetails().then(this.fetchRecommends) // 获取商品详情数据\n        this.fetchCombos() // 获取商品套装\n        this.fetchComments() // 获取商品评论\n        this.fetchCommentReport() // 获取好评率\n        this.fetchCartNumbers() // 购物车数量\n      },\n      fetchDetails () {\n        return this.$http.withLoading(`/api/goodses/${this.id}`).then(result => {\n          const data = result.data\n          this.goodsInfo = data\n          this.initSlider(data.images)\n          if (data.is_sku) {\n            this.initSkuData(data)\n          }\n        }, err => {\n          this.error = err.message\n        })\n      },\n      // TODO 数据\n      fetchCombos () {\n        const params = { goods_id: this.id }\n        this.$http('/api/goods/combs', { params }).then(res => {\n          this.combos = res.list.map((item, i) => {\n            return { ...item, show_name: '套装' + this.$utils.getChinaNum(i + 1) }\n          })\n        }, err => {\n          this.$toast(err.message)\n        })\n      },\n      fetchComments () {\n        const params = { goods_id: this.id }\n        this.$http('/api/goods/comments', { params }).then(res => {\n          this.comments = res.list.data.map(item => {\n            let names = []\n            for (let k in item.sku_name_arr) {\n              names.push(item.sku_name_arr[k])\n            }\n            return { ...item, sku_show_name: names.join('  ') }\n          })\n          this.commentsTotal = res.list.total\n        })\n      },\n      fetchCommentReport () {\n        const params = { goods_id: this.id }\n        this.$http('/api/comments/data', { params }).then(res => {\n          if (!res.data.count) {\n            this.commentsGoodPercent = ''\n          } else {\n            this.commentsGoodPercent = res.data.good_colmment / res.data.count\n          }\n        })\n      },\n      fetchCartNumbers () {\n        this.$http('/api/cart/nums').then(res => {\n          this.cartCount = res.data.shopcart_count\n        })\n      },\n      fetchRecommends () {\n        let cat = this.goodsInfo.goods_cat_id_third ||\n          this.goodsInfo.goods_cat_id_second ||\n          this.goodsInfo.goods_cat_id_first\n        if (!cat) {\n          console.error('获取分类id失败')\n          return\n        }\n        const params = { goods_cat_id: cat }\n        this.$http('/api/goods/guesses', { params }).then(res => {\n          this.recommends = res.list\n        })\n      },\n      initSlider (images) {\n        let defautImg = ''\n        for (let k in images) {\n          if (images[k].is_default) {\n            defautImg = images[k].path\n            continue\n          }\n          this.swipeImgs.push(images[k].path)\n        }\n        if (defautImg) this.swipeImgs.unshift(defautImg)\n      },\n      initSkuData (data) {\n        this.skuModel = {\n          property: data.property,\n          skus: data.skus,\n          goodsInfo: {\n            name: data.name,\n            title: data.goods_title,\n            image: this.getGoodsDefaultImage(data)\n          }\n        }\n        const skuId = this.$route.query.sku_id\n        if (skuId) {\n          this.skuValue = {\n            skuId,\n            amount: 1,\n            selectedProps: this.$utils.skuTool.getSelectedProps(skuId, data.skus)\n          }\n        }\n      },\n      getGoodsDefaultImage (data) {\n        let img = data.images.filter(item => item.is_default)[0] || data.images[0]\n        return img ? img.path : ''\n      },\n      likeGoods () {\n        if (this.likePending) return\n        this.likePending = true\n        const data = { goods_id: this.id }\n        this.$http.post('/api/goods/collects', data).then(res => {\n          this.likePending = false\n          this.goodsInfo.is_collect = 1\n          this.$toast('收藏成功')\n        }, err => {\n          this.likePending = false\n          this.$toast(err.message)\n        })\n      },\n      shareGoods () {\n\n      },\n      addCart () {\n        let skuId = this.selectedSku.id\n        let num = this.goodsInfo.is_sku ? (this.skuValue && this.skuValue.amount) : 1\n        if (!skuId) return this.$toast('请选择规格')\n        if (this.selectedSku.stock === 0) return this.$toast('库存不足')\n        if (!num) return this.$toast({ message: '请选择商品数量' })\n        // if (this.selectedSku.stock < num) return this.$toast('库存不足')\n\n        this.$http.withLoading({\n          url: '/api/goods/carts',\n          method: 'post',\n          data: {\n            goods_id: this.id,\n            num: num,\n            sku_id: skuId\n          }\n        }).then(res => {\n          this.$toast('已加入购物车')\n          this.$nextTick(() => {\n            this.cartCount += 1\n            this.skuVisible = false\n            // this.resetSku()\n          })\n        })\n      },\n      gotoCart () {\n        this.$router.push({ path: '/cart' })\n      },\n      buyNow () {\n        if (this.goodsInfo.is_sku === 0) {\n          this.$router.push({\n            path: '/cart/order',\n            query: {\n              goods_id: this.query.goods_id,\n              sku_id: this.goodsInfo.skus[0].id,\n              num: 1 // TODO 立即购买数量\n            }\n          })\n        } else {\n          const sku = this.selectedSku\n          if (!sku.id) {\n            return this.$toast('请选择规格')\n          }\n          if (sku.stock <= 0) {\n            return this.$toast('库存不足')\n          }\n          this.$router.push({\n            path: '/cart/order',\n            query: {\n              goods_id: this.id,\n              sku_id: this.skuValue.skuId,\n              num: this.skuValue.amount\n            }\n          })\n        }\n      },\n      showProdCombo () {\n        this.comboVisible = true\n      },\n      showSku () {\n        this.skuVisible = true\n      },\n      resetSku () {\n\n      },\n      skuVisibleChange (evt) {\n        this.skuVisible = evt\n      },\n      skuValueChange (evt) {\n        this.skuValue = evt\n        console.log(evt)\n      }\n    }\n  }\n</script>\n<style>\n  .top-slider-wrap {\n    position: relative;\n  }\n  .top-slider-wrap .x-slider-item img {\n    height: 8.4rem;\n  }\n  .product-like-icon.x-icon,\n  .product-share-icon.x-icon {\n    position: absolute;\n    top: 0.4237rem;\n    width: 26px;\n    height: 26px;\n  }\n  .product-like-icon {\n    left: 0.48rem;\n  }\n  .product-share-icon {\n    right: 0.48rem;\n  }\n  .gocart-button {\n    position: relative;\n    text-align: center;\n    font-size: 12px;\n    width: 2rem;\n    background: #fff;\n    border-top: 1px solid #e8e8e8;\n  }\n  .gocart-button-inner {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n  .gocart-button-redpoint {\n    display: none;\n    position: absolute;\n    right: 5px;\n    top: -2px;\n    background-color: red;\n    width: 6px;\n    height: 6px;\n    border-radius: 100%;\n  }\n  .gocart-button.has-goods .gocart-button-redpoint {\n    display: block;\n  }\n  .product-detail-bottom {\n    align-items: stretch;\n  }\n  .product-detail-bottom > * {\n    flex: 1;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/product/detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-product-detail\"},[_c('div',{staticClass:\"top-slider-wrap bdb\"},[_c('x-slider',{staticClass:\"bdb\",attrs:{\"indicator\":\"number\",\"length\":_vm.swipeImgs.length}},_vm._l((_vm.swipeImgs),function(url){return _c('x-slider-item',{key:url,nativeOn:{\"click\":function($event){_vm.seeImg(url, _vm.swipeImgs)}}},[_c('img',{attrs:{\"src\":url,\"alt\":\"\"}})])})),_vm._v(\" \"),(_vm.goodsInfo.is_collect === 0)?_c('x-icon',{staticClass:\"product-like-icon\",attrs:{\"type\":\"praise\"},nativeOn:{\"click\":function($event){_vm.likeGoods($event)}}}):_vm._e(),_vm._v(\" \"),_c('x-icon',{staticClass:\"product-share-icon\",attrs:{\"type\":\"share\"},nativeOn:{\"click\":function($event){_vm.shareGoods($event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"mod_pd mgb prod-info\"},[_c('p',{staticClass:\"title black-2 fs-lg\"},[_vm._v(_vm._s(_vm.goodsInfo.goods_title))]),_vm._v(\" \"),(_vm.selectedSku.sale_price)?_c('x-money',{staticClass:\"price\",attrs:{\"value\":_vm.selectedSku.sale_price,\"size\":\"large\"}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"mgb\"},[_c('x-cell',{attrs:{\"icon-right\":\"more\",\"bordered\":\"\"},nativeOn:{\"click\":function($event){_vm.showProdCombo($event)}}},[_c('span',{staticClass:\"black-3\",staticStyle:{\"margin-right\":\"1.2em\"}},[_vm._v(\"促销\")]),_vm._v(\" \"),_c('span',{staticClass:\"red\"},[_vm._v(\"优惠套装\")]),_vm._v(\" \"),_c('span',[_vm._v(\"| 最高省200.00元\")])]),_vm._v(\" \"),(_vm.goodsInfo.is_sku)?_c('x-cell',{attrs:{\"icon-right\":\"more\"},nativeOn:{\"click\":function($event){_vm.showSku($event)}}},[_c('span',{staticClass:\"black-3\"},[_vm._v(\"已选规格：\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.selectedSkuText))])]):_vm._e()],1),_vm._v(\" \"),(_vm.comments.length)?_c('comment-short-list',{attrs:{\"comments\":_vm.comments,\"total\":_vm.commentsTotal,\"good-percent\":_vm.commentsGoodPercent,\"goods-id\":_vm.id}}):_vm._e(),_vm._v(\" \"),_c('prod-recommend',{attrs:{\"items\":_vm.recommends}}),_vm._v(\" \"),_c('long-detail',{attrs:{\"content\":_vm.goodsInfo.desc}}),_vm._v(\" \"),_c('x-fixed-bottom',{staticClass:\"product-detail-bottom\"},[_c('div',{staticClass:\"gocart-button\",class:{'has-goods': _vm.cartCount > 0},on:{\"click\":_vm.gotoCart}},[_c('div',{staticClass:\"gocart-button-inner\"},[_c('x-icon',{attrs:{\"type\":\"cart\"}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('span',[_vm._v(\"购物车\")]),_vm._v(\" \"),_c('i',{staticClass:\"gocart-button-redpoint\"})],1)]),_vm._v(\" \"),_c('x-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.addCart($event)}}},[_vm._v(\"加入购物车\")]),_vm._v(\" \"),_c('x-button',{attrs:{\"type\":\"danger\"},nativeOn:{\"click\":function($event){_vm.buyNow($event)}}},[_vm._v(\"立即购买\")])],1),_vm._v(\" \"),_c('prod-sku',{attrs:{\"visible\":_vm.skuVisible,\"value\":_vm.skuValue,\"sku-model\":_vm.skuModel},on:{\"visible-change\":_vm.skuVisibleChange,\"input\":_vm.skuValueChange,\"cart\":_vm.addCart,\"buy\":_vm.buyNow}}),_vm._v(\" \"),_c('prod-combo',{attrs:{\"visible\":_vm.comboVisible,\"options\":_vm.combos,\"value\":_vm.selectedCombo},on:{\"visible-change\":function($event){_vm.comboVisible = $event},\"input\":function($event){_vm.selectedCombo = $event}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-010a5e1e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/product/detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-010a5e1e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=styles&index=0!./detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=script&index=0!./detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-010a5e1e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=template&index=0!./detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/product/detail.vue\n// module id = null\n// module chunks = ","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.top-slider-wrap {\\n  position: relative;\\n}\\n.top-slider-wrap .x-slider-item img {\\n  height: 8.4rem;\\n}\\n.product-like-icon.x-icon,\\n.product-share-icon.x-icon {\\n  position: absolute;\\n  top: 0.4237rem;\\n  width: 26px;\\n  height: 26px;\\n}\\n.product-like-icon {\\n  left: 0.48rem;\\n}\\n.product-share-icon {\\n  right: 0.48rem;\\n}\\n.gocart-button {\\n  position: relative;\\n  text-align: center;\\n  font-size: 12px;\\n  width: 2rem;\\n  background: #fff;\\n  border-top: 1px solid #e8e8e8;\\n}\\n.gocart-button-inner {\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%);\\n}\\n.gocart-button-redpoint {\\n  display: none;\\n  position: absolute;\\n  right: 5px;\\n  top: -2px;\\n  background-color: red;\\n  width: 6px;\\n  height: 6px;\\n  border-radius: 100%;\\n}\\n.gocart-button.has-goods .gocart-button-redpoint {\\n  display: block;\\n}\\n.product-detail-bottom {\\n  -webkit-box-align: stretch;\\n      -ms-flex-align: stretch;\\n          align-items: stretch;\\n}\\n.product-detail-bottom > * {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/dev/wemall/src/views/product/detail.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,mBAAmB;CACpB;AACD;EACE,eAAe;CAChB;AACD;;EAEE,mBAAmB;EACnB,eAAe;EACf,YAAY;EACZ,aAAa;CACd;AACD;EACE,cAAc;CACf;AACD;EACE,eAAe;CAChB;AACD;EACE,mBAAmB;EACnB,mBAAmB;EACnB,gBAAgB;EAChB,YAAY;EACZ,iBAAiB;EACjB,8BAA8B;CAC/B;AACD;EACE,mBAAmB;EACnB,UAAU;EACV,SAAS;EACT,yCAAyC;UACjC,iCAAiC;CAC1C;AACD;EACE,cAAc;EACd,mBAAmB;EACnB,WAAW;EACX,UAAU;EACV,sBAAsB;EACtB,WAAW;EACX,YAAY;EACZ,oBAAoB;CACrB;AACD;EACE,eAAe;CAChB;AACD;EACE,2BAA2B;MACvB,wBAAwB;UACpB,qBAAqB;CAC9B;AACD;EACE,oBAAoB;MAChB,YAAY;UACR,QAAQ;CACjB\",\"file\":\"detail.vue\",\"sourcesContent\":[\"\\n.top-slider-wrap {\\n  position: relative;\\n}\\n.top-slider-wrap .x-slider-item img {\\n  height: 8.4rem;\\n}\\n.product-like-icon.x-icon,\\n.product-share-icon.x-icon {\\n  position: absolute;\\n  top: 0.4237rem;\\n  width: 26px;\\n  height: 26px;\\n}\\n.product-like-icon {\\n  left: 0.48rem;\\n}\\n.product-share-icon {\\n  right: 0.48rem;\\n}\\n.gocart-button {\\n  position: relative;\\n  text-align: center;\\n  font-size: 12px;\\n  width: 2rem;\\n  background: #fff;\\n  border-top: 1px solid #e8e8e8;\\n}\\n.gocart-button-inner {\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%);\\n}\\n.gocart-button-redpoint {\\n  display: none;\\n  position: absolute;\\n  right: 5px;\\n  top: -2px;\\n  background-color: red;\\n  width: 6px;\\n  height: 6px;\\n  border-radius: 100%;\\n}\\n.gocart-button.has-goods .gocart-button-redpoint {\\n  display: block;\\n}\\n.product-detail-bottom {\\n  -webkit-box-align: stretch;\\n      -ms-flex-align: stretch;\\n          align-items: stretch;\\n}\\n.product-detail-bottom > * {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.7@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-010a5e1e\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=styles&index=0!./src/views/product/detail.vue\n// module id = sBM+\n// module chunks = 17"],"sourceRoot":""}