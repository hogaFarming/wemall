webpackJsonp([31],{"6x39":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={mixins:[s("WEj0").c],data:function(){return{cacheList:[],cacheNextPage:"",currentTab:1}},watch:{currentTab:function(t,e){var s=this.list,i=this.nextPage;this.list=this.cacheList,this.nextPage=this.cacheNextPage,this.cacheList=s,this.cacheNextPage=i,this.list.length||this.queryList()}},mounted:function(){this.queryList()},methods:{queryList:function(t){var e=this,s=t||(1===this.currentTab?"/api/message":"/api/notices");this.$http.withLoading(s).then(function(t){e.setListData(t.list)})},onClickMessage:function(t){5===t.type?this.$router.push("/refund"+t.refund_id):4===t.type?this.$router.push("/my/score"):this.$router.push("/order/"+t.order_id)},gotoNotice:function(t){this.$router.push("/notice/"+t.id)}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page message-page"},[s("x-navbar",{staticClass:"mgb",model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[s("mt-tab-item",{attrs:{id:1}},[t._v("商城消息")]),t._v(" "),s("mt-tab-item",{attrs:{id:2}},[t._v("系统公告")])],1),t._v(" "),1===t.currentTab?s("div",{staticClass:"message-list"},t._l(t.list,function(e){return s("x-cell",{key:e.id,staticClass:"bdb",nativeOn:{click:function(s){t.onClickMessage(e)}}},[s("p",{staticClass:"mgb"},[t._v("订单已发货！")]),t._v(" "),s("p",{staticClass:"black-3 mgb fs-sm"},[s("time",[t._v("2017-04-01 16:19")])]),t._v(" "),s("p",{staticClass:"black-3"},[t._v("您的订单 20170401101012080912 已经发货，点此查看。")])])})):t._e(),t._v(" "),2===t.currentTab?s("div",{staticClass:"message-list"},t._l(t.list,function(e){return s("x-cell",{key:e.id,staticClass:"bdb",nativeOn:{click:function(s){t.gotoNotice(e)}}},[s("p",{staticClass:"mgb",staticStyle:{"line-height":"1.25"}},[t._v(t._s(e.title))]),t._v(" "),s("p",{staticClass:"black-3 mgb fs-sm"},[s("time",[t._v(t._s(t._f("fullTime")(1e3*e.updated_at)))])])])})):t._e()],1)},staticRenderFns:[]},c=s("/Xao")(i,a,!1,null,null,null);e.default=c.exports}});
//# sourceMappingURL=31.07b22aa92424fc3342fb.js.map